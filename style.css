/* ========================================================= */
/* 1. Normalización y Variables CSS */
/* ========================================================= */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  /* Mejorar la legibilidad de la fuente si es necesario */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

:root {
  /* Fuentes */
  --font-primary: 'Great Vibes', cursive; /* Para títulos y nombres principales */
  --font-secondary: 'Montserrat', sans-serif; /* Para subtítulos y elementos CTA */
  --font-body: 'Lato', sans-serif; /* Para texto general */

  /* Colores */
  --color-background: #F7F6F2; /* Fondo principal */
  --color-text: #8e7050; /* Texto principal */
  --color-text-dark: #4b3b2a; /* Texto más oscuro para contraste */
  --color-accent: #ba9369; /* Color de acento */
  --color-button: #7b4c20; /* Color de botones */
  --color-button-hover: #5f3615; /* Color de botones al pasar el ratón */
  --color-white: #ffffff; /* Blanco puro */
  --color-background-light: #fff7f0; /* Fondo claro para elementos específicos */
  --color-success: #4CAF50; /* Para mensajes de éxito (ej. "copiado") */

  /* Otros */
  --scrollbar-height: 5px; /* Altura de la barra de progreso */
}

/* ========================================================= */
/* 2. Estilos Globales y Body */
/* ========================================================= */
body {
  font-family: var(--font-body);
  background-color: var(--color-background);
  color: var(--color-text);
  overflow: hidden; /* **CRÍTICO**: Ocultar scroll del body al inicio */
  text-align: center;
  max-width: 100%;
  /* Eliminar scroll-snap-type del body si main lo va a tener */
}

/* Clase para controlar el overflow del body cuando main es visible */
body.content-visible {
  overflow: auto; /* Permite el scroll si el contenido de main supera la altura */
  /* Si main ya gestiona su propio scroll (como en este caso), 'auto' es seguro.
     'hidden' podría funcionar si main siempre tiene 100dvh y su propio scroll.
     Si hay elementos fuera de main que podrían causar scroll, 'auto' es mejor. */
}

/* Estilos para ocultar elementos de forma accesible */
.hidden {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important; /* Asegura que no sea interactivo */
}

/* ========================================================= */
/* 3. Tipografía Base */
/* ========================================================= */
h1, h2, h3 {
  margin-bottom: 1rem;
}

h2 {
  color: var(--color-accent);
  font-size: 2.5rem;
}

h3, p {
  margin: 16px; /* 1rem es más consistente con rems */
}

/* Fuentes específicas por elemento */
.nombres, .titulo, .fecha {
  font-family: var(--font-primary);
}

/* Secciones que usan Montserrat (secundario) */
p, a, .boton, .rsvp-button, .cuenta,
.countdown-circle small, .copiar-btn, .copiado-mensaje, .cta-text {
  font-family: var(--font-secondary);
}

/* ========================================================= */
/* 4. Enlaces y Botones */
/* ========================================================= */
a {
  text-decoration: none; /* Mejor que text-decoration-skip-ink: none; para compatibilidad */
  color: var(--color-text);
  transition: color 0.3s ease;
}

a:hover {
  color: var(--color-accent);
}

/* Estilo base para botones */
.boton, .rsvp-button, .copiar-btn {
  background-color: var(--color-button);
  color: var(--color-white) !important; /* Asegurar texto blanco */
  padding: 0.8rem 1.4rem;
  border-radius: 8px;
  font-size: 1rem;
  text-decoration: none;
  transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.2s ease;
  display: inline-flex; /* Permite alinear icono y texto fácilmente */
  align-items: center; /* Centra verticalmente icono y texto */
  justify-content: center; /* Centra horizontalmente contenido */
  margin: 0.5rem;
  border: none;
  cursor: pointer;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.boton:hover, .rsvp-button:hover, .copiar-btn:hover {
  background-color: var(--color-button-hover);
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}

.boton i, .rsvp-button i, .copiar-btn i {
  margin-right: 8px;
}

/* Estilo específico para botones RSVP */
.rsvp-button {
  border-radius: 20px; /* Bordes más redondeados */
  padding: 10px 15px;
  font-size: 0.9em;
}

/* Focus states para accesibilidad */
.boton:focus, .rsvp-button:focus, .copiar-btn:focus,
.sobre:focus {
  outline: 2px solid var(--color-accent); /* Resaltar al enfocar */
  outline-offset: 3px; /* Separación del borde */
}


/* ========================================================= */
/* 5. Pantalla Inicial y Sobre */
/* ========================================================= */
.pantalla {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100dvh; /* Usar dvh para altura completa y dinámica */
  position: relative;
  background-color: var(--color-background); /* Asegurar color de fondo */
  z-index: 100; /* Asegurar que cubra todo al inicio */
  transition: opacity 0.8s ease, visibility 0.8s ease; /* Transición para ocultar */
}

.pantalla.hidden {
  opacity: 0;
  visibility: hidden;
  pointer-events: none; /* Deshabilita interacciones */
}

.cta-text {
  margin-bottom: 20px;
  font-size: 16px;
  background: rgba(255, 255, 255, 0.85);
  padding: 10px 15px;
  border-radius: 20px;
  color: var(--color-accent);
  animation: pulse 2s infinite;
  z-index: 3;
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

.sobre {
  width: 400px;
  max-width: 90vw;
  height: auto;
  cursor: pointer;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  animation: fadeIn 1.5s ease-in-out;
  border-radius: 10px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); /* Sombra inicial */
}

.sobre:hover {
  transform: scale(1.03);
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
}

@keyframes fadeIn {
  from { opacity: 0; transform: scale(0.8); }
  to { opacity: 1; transform: scale(1); }
}

/* ========================================================= */
/* 6. Contenido Principal (Main) y Secciones */
/* ========================================================= */
main {
  height: 100dvh; /* **CRÍTICO**: El main se encarga del scroll */
  overflow-y: scroll; /* **CRÍTICO**: Scroll solo en main */
  scroll-snap-type: y mandatory; /* **CRÍTICO**: Activar scroll-snap aquí */
  -webkit-overflow-scrolling: touch; /* Suaviza el scroll en iOS */
  opacity: 0;
  transition: opacity 0.8s ease-in-out;
  visibility: hidden; /* Oculto inicialmente, mejora el rendimiento */
  width: 100%; /* Asegura que ocupe todo el ancho */
  position: relative; /* Para z-index si es necesario */
}

main.visible-content {
  opacity: 1;
  visibility: visible;
}

.seccion {
  scroll-snap-align: start; /* **CRÍTICO**: Alinear al inicio de la sección */
  min-height: 100dvh; /* Cada sección ocupa al menos el alto del viewport */
  padding: calc(var(--scrollbar-height) + 2rem) 2rem 2rem; /* Espacio para barra de scroll */
  display: flex;
  flex-direction: column;
  justify-content: flex-start; /* Alineación por defecto al inicio */
  align-items: center;
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 1s ease, transform 1s ease;
  background-image: url('images/fondo.png'); /* Fallback */
  /* Uso de image-set para WebP con fallback. Asegúrate de tener 'fondo.webp'. */
  /* background-image: image-set(
    url("images/fondo.webp") type("image/webp"),
    url("images/fondo.png") type("image/png")
  ); */
  background-size: cover; /* Ajusta la imagen para cubrir toda la sección */
  background-repeat: no-repeat;
  background-position: center center; /* Centra la imagen */
  background-color: var(--color-background); /* Color de fondo si la imagen no carga o es transparente */
}

.seccion.visible {
  opacity: 1;
  transform: translateY(0);
}

/* ========================================================= */
/* 7. Elementos Específicos */
/* ========================================================= */

.nombres {
  font-size: 4.5rem;
  letter-spacing: 2px;
  line-height: 1.1; /* Ajustar si los nombres son largos */
}

.titulo {
  font-size: 3.5rem;
  margin-top: 1rem;
  line-height: 1.1;
}

.fecha {
  font-size: 2em;
  color: var(--color-accent);
  margin: 20px 0;
  font-style: italic;
}

.cuenta-container {
  display: flex;
  flex-direction: column; /* Por defecto para móviles */
  align-items: center;
  justify-content: center;
  gap: 15px;
  margin-top: 1.5rem;
  margin-bottom: 1rem;
}

.cuenta {
  font-size: 1.5rem;
  background-color: var(--color-background-light);
  padding: 1rem 2rem;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
  color: var(--color-text-dark);
  word-break: break-all; /* Asegura que el IBAN largo no desborde */
  margin-top: 0; /* Ya gestionado por gap en el contenedor */
}

/* Mensaje de "IBAN Copiado" */
.copiado-mensaje {
  opacity: 0; /* Inicia invisible */
  visibility: hidden; /* Para transiciones más suaves */
  transition: opacity 0.3s ease, visibility 0.3s ease;
  margin-top: 10px;
  font-size: 0.9em;
  color: var(--color-success);
  font-weight: bold;
  white-space: nowrap; /* Evita que el texto se rompa */
}

iframe {
  width: 90%;
  max-width: 600px;
  height: 200px;
  border: none;
  border-radius: 10px;
  margin-top: 1rem;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}

.countdown-circle {
  display: flex;
  gap: 1rem;
  justify-content: center;
  align-items: center;
  margin-top: 2rem;
  flex-wrap: wrap;
}

.circle {
  margin: 1rem; /* Considerar quitar si ya hay 'gap' en .countdown-circle */
  width: 90px;
  height: 90px;
  border: 4px solid var(--color-button);
  border-radius: 50%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background-color: var(--color-background-light);
  box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);
}

.circle span {
  font-size: 1.8rem;
  font-weight: bold;
  color: var(--color-text-dark);
}

.circle small {
  font-size: 0.8rem;
  color: var(--color-button);
  margin-top: 5px;
}

.rsvp-buttons {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-top: 15px;
  flex-wrap: wrap; /* Para que los botones se ajusten en pantallas pequeñas */
}

/* ========================================================= */
/* 8. Barra de Progreso del Scroll */
/* ========================================================= */
#scrollBarContainer {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--scrollbar-height);
  background-color: rgba(238, 238, 238, 0.5);
  z-index: 9999;
  pointer-events: none; /* No debe interferir con clics en el contenido */
}

#scrollBar {
  height: 100%;
  width: 0;
  background-color: var(--color-accent);
  transition: width 0.1s linear; /* Transición rápida para la barra */
}

/* ========================================================= */
/* 9. Icono de Flecha de Scroll */
/* ========================================================= */
.scroll-icon {
  font-size: 2rem;
  color: var(--color-button);
  display: block;
  text-align: center;
  margin-top: 50px; /* Separación de la sección */
  animation: moveDown 1.5s infinite;
  cursor: pointer;
  /* Asegurar que la flecha sea clickable y esté sobre el contenido */
  position: relative;
  z-index: 2;
}

@keyframes moveDown {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(10px); }
}

/* ========================================================= */
/* 10. Sección de Aparcamiento */
/* ========================================================= */
#aparcamiento ul {
  list-style: none;
  padding-left: 0;
  max-width: 600px;
  margin: 20px auto; /* Centrar la lista y añadir margen vertical */
  text-align: left;
}

#aparcamiento li {
  margin-bottom: 15px;
}

#aparcamiento li a {
  display: flex; /* Para alinear ícono y texto */
  align-items: center;
  gap: 8px; /* Espacio entre elementos del enlace */
  color: var(--color-text-dark); /* Color más oscuro para mejor legibilidad */
  transition: color 0.2s ease;
}
#aparcamiento li a:hover {
  color: var(--color-accent);
}
#aparcamiento li a:hover .map-pin-icon {
    transform: scale(1.1);
}

.map-icon {
  font-size: 1.2em; /* Tamaño del emoji/icono */
  flex-shrink: 0; /* Evita que el icono se encoja */
}
.map-pin-icon {
  font-size: 1em;
  transition: transform 0.2s ease;
  color: var(--color-accent); /* Darle color al pin */
  flex-shrink: 0;
}
.map-pin-icon-text { /* Para el pin en el párrafo introductorio */
  font-size: 1em;
  color: var(--color-accent); /* Color para el pin en el texto */
}

/* ========================================================= */
/* 11. Media Queries (Responsividad) */
/* ========================================================= */

/* Smartphones y pantallas pequeñas (menos de 768px) */
@media (max-width: 767px) {
  h2 { font-size: 2.2rem; }
  .nombres { font-size: 3.2rem; }
  .titulo { font-size: 2.5rem; }
  .fecha { font-size: 1.6em; }

  .pantalla { padding: 1rem; }
  .cta-text { font-size: 1em; padding: 0.8em 1.2em; margin-bottom: 1em; }
  .sobre { width: 70vw; max-width: 300px; }

  .seccion {
    padding: calc(var(--scrollbar-height) + 1.5rem) 1.5rem 1.5rem;
    
  }

  iframe { height: 180px; }

  .cuenta-container {
    flex-direction: column;
    align-items: center;
    gap: 0.8rem;
  }
  .cuenta { font-size: 1.2rem; padding: 0.8rem; }
  .copiado-mensaje { margin-top: 0.5rem; } /* Ajustar margen para móviles */

  .boton, .copiar-btn { padding: 0.7rem 1.1rem; font-size: 0.9rem; }
  .rsvp-buttons { flex-direction: column; align-items: center; gap: 0.8rem; }

  .countdown-circle { gap: 0.5rem; flex-wrap: wrap; }
  .circle { width: 70px; height: 70px; margin: 0.5rem; }
  .circle span { font-size: 1.5rem; }
  .circle small { font-size: 0.7rem; }
}

/* Tablets (768px a 1024px) */
@media (min-width: 768px) and (max-width: 1023px) {
  h2 { font-size: 2.8rem; }
  .nombres { font-size: 4rem; }
  .titulo { font-size: 3rem; }
  .fecha { font-size: 1.8em; }

  .seccion {
    padding: calc(var(--scrollbar-height) + 2.5rem) 2rem 2.5rem;
  }
  iframe { height: 250px; }

  .cuenta-container {
    flex-direction: row; /* Volver a fila en tablets */
    gap: 10px;
  }
  .copiado-mensaje { margin-left: 15px; margin-top: 0; }
}

/* Desktops y pantallas grandes (1024px en adelante) */
@media (min-width: 1024px) {
  h2 { font-size: 3rem; }
  .nombres { font-size: 5rem; }
  .titulo { font-size: 3.5rem; }
  .fecha { font-size: 2em; }

  .seccion {
    padding: calc(var(--scrollbar-height) + 3rem) 3rem 3rem;
  }

  .cuenta-container {
    flex-direction: row;
    gap: 10px;
  }
  .copiado-mensaje { margin-left: 15px; margin-top: 0; }
}

/* ========================================================= */
/* 12. Barra de Scroll del Navegador (Opcional) */
/* Para navegadores WebKit (Chrome, Safari) */
/* ========================================================= */
/* Puedes personalizar la barra de scroll de 'main' si lo deseas. */
/* Si no quieres customizarla, puedes borrar este bloque. */
main::-webkit-scrollbar {
  width: 10px;
  background-color: var(--color-background-light);
}

main::-webkit-scrollbar-thumb {
  background-color: var(--color-accent);
  border-radius: 5px;
  border: 2px solid var(--color-background-light);
}

main::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-text-dark);
}

